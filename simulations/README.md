# Replication Code for Simulations

This README provides instructions for replicating Figures 1-3 from the paper.

## File Description

*   **Simulation Scripts**
    *   **`main_simul_LP_N30.R` / `main_simul_LP_N50.R`**: Main scripts to run the simulations for sample sizes $N=30$ and $N=50$.
    *   `simul_LP.R` / `LP_panel_fe.R`: functions required by the main scripts (do not run these directly).

*   **Data Processing & Visualization**
    *   **`arrange_results.R`**: Aggregates the `.RDS` files into Excel.
    *   **`visualization.R`**: Generates `.eps` figures from Excel

*   **Output**
    *   `*.RDS`: Raw simulation output files generated by the main scripts.
    *   `toy_-0.6.xlsx`: The aggregated results file.
    *   **`toy_trueIRF_beta-0.6.eps`**: Figure 1.
    *   **`toy_RMSE_beta-0.6.eps`**: Figure 2.
    *   **`toy_coverage_beta-0.6.eps`**: Figure 3.

## Replication Steps

**Note**: Please ensure your R working directory is set to the source file location before running the scripts.

### Step 1: Run Simulations
Execute the simulation scripts to generate the raw data. These scripts will output intermediate `.RDS` files into your working directory.

1.  Run **`main_simul_LP_N30.R`**
2.  Run **`main_simul_LP_N50.R`**

**Output:**
*   `T60N30rho0tau0Niter1000lagY0.RDS`
*   `T60N30rho2tau0Niter1000lagY0.RDS`
*   `T60N30rho5tau0Niter1000lagY0.RDS`
*   `T60N30rho8tau0Niter1000lagY0.RDS`
*   `T120N30rho0tau0Niter1000lagY0.RDS`
*   `T120N30rho2tau0Niter1000lagY0.RDS`
*   `T120N30rho5tau0Niter1000lagY0.RDS`
*   `T120N30rho8tau0Niter1000lagY0.RDS`
*   `T120N50rho0tau0Niter1000lagY0.RDS`
*   `T120N50rho2tau0Niter1000lagY0.RDS`
*   `T120N50rho5tau0Niter1000lagY0.RDS`
*   `T120N50rho8tau0Niter1000lagY0.RDS`

### Step 2: Aggregate Results
Once **all** `.RDS` files from Step 1 are generated, run the arrangement script to process the data into a summary file.

*   Run **`arrange_results.R`**

**Output:**
*   `toy_-0.6.xlsx`

### Step 3: Generate Figures
Use the generated Excel file to create the figures presented in the paper.

*   Run **`visualization.R`**

**Output:**
*   **Figure 1: `toy_trueIRF_beta-0.6.eps`**
*   **Figure 2: `toy_RMSE_beta-0.6.eps`**
*   **Figure 3: `toy_coverage_beta-0.6.eps`**